<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="formMenu">
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-laugh-wink"></i>
                </div>
                <div class="sidebar-brand-text mx-3">SB Admin <sup>2</sup></div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0"/>

            <!-- Nav Item - Dashboard -->
            <li class="nav-item active">
                <div class="nav-link">
                    <h:selectOneMenu value="#{sessionController.rolActivoId}"
                                     class="form-control">
                        <f:selectItems value="#{sessionController.rolesUsuario}" var="r"
                                       itemValue="#{r.id}" itemLabel="#{r.nombre}"/>
                        <f:ajax execute="@this" 
                                render=":formMenu"/>
                    </h:selectOneMenu>
                </div>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider"/>
            
            <ui:include src="/WEB-INF/template/menu/menu.xhtml"/>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block"/>

            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>

        </ul>
    </h:form>
</ui:fragment>

